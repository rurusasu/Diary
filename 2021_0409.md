---
marp: true
theme: template
---

# Sparce Conv を使ってみる

現在の物体検出(特に，3D オブジェクト検出)では，スパースな畳み込みニューラルネットワークが使用されているようである [PV-RCNN：3D オブジェクト検出のためのポイントボクセル機能セットの抽象化](https://paperswithcode.com/paper/pv-rcnn-point-voxel-feature-set-abstraction)．そこで，自分も同様の畳み込み層を使用したネットワークを構築したいと思ったので，本日は自分の VSCode 上で GitHub 上に公開されている Sparce Convolution が使用できるようにする．

# Sparse Convolutional Networks とは？

Sparse Convolutional Networks とは，3D 点群データなどの「疎な」データを効率的に処理することを目的として改良された畳み込み層を有するニューラルネットワークである [3D Semantic Segmentation with Submanifold Sparse Convolutional Networks](https://github.com/rurusasu/paper/blob/master/AI%E6%8A%80%E8%A1%93/AI%E6%8A%80%E8%A1%93%E5%BF%9C%E7%94%A8/%E7%89%A9%E4%BD%93%E6%A4%9C%E5%87%BA/3D%20Semantic%20Segmentation%20With%20Submanifold%20Sparse%20Convolutional%20Networks/%E5%85%83%E8%AB%96%E6%96%87/Graham%20et%20al_2018_3D%20Semantic%20Segmentation%20With%20Submanifold%20Sparse%20Convolutional%20Networks2.pdf)．

このネットワークの `pyTorch` 実装は，[spconv](https://github.com/dparksports/spconv) で公開されていた．
さらに，上記の論文で使用されたネットワークの実装は[SparseConvNet](https://github.com/facebookresearch/SparseConvNet)で公開されていた．

---

# SPConv パッケージダウンロード

注意！
この [Qiita記事](https://qiita.com/chin_self_driving_car/items/df61448ef4abda1a71a3) によると，[こちらの `spconv`](https://github.com/traveller59/spconv) を使用した方が良いようであった(こちらの方が上述のリポジトリより最近更新されていた)．

## Docker for windows から GPUを使用

`spconv` のリポジトリを見る限り，`windows` のサポートは終了したようなので，仮想環境で `linux` を立ち上げて、そのうえで使用できないかを検討する．


前に一度試したことがあった `Docker` 上での `GPU` の使用

1. まず，[GitHub のリポジトリ](https://github.com/traveller59/spconv)をクローンする．
1. 次に [`boost` の公式ウェブサイト](https://www.boost.org/users/history/version_1_69_0.html)から `boost_1_69.zip` をダウンロードし，展開したフォルダを `spconv / include` にコピーする．
1.