---
marp: true
theme: template
---

# Electron を用いてアプリケーションを開発

## Node.js のインストール
![bg right 70%](https://raw.githubusercontent.com/rurusasu/Diary/master/%E7%94%BB%E5%83%8F/2021_0305/Nodejs.png)

まず，Node.js をインストールする．
その際，次のサイトを参考に行った．

- [Node.js をインストールする](https://qiita.com/sefoo0104/items/0653c935ea4a4db9dc2b)

---

## Electronのインストール
### 1. package.jsonの作成

作業ディレクトリを作成し，そこで `npm init -y` を実行する．
すると，ディレクトリ内に以下のような `package.json` ファイルが作成される．

```package.json
{
  "name": "analysis",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {},
  "devDependencies": {},
  "author": "",
  "license": "ISC",
  "description": ""
}
```
`name`，`version`，`description`，`license` などのデータは単なるパッケージのメタデータであり，パッケージを公開するつもりがないなら特に気にする必要はない．
機能的に重要なのは`bin`，`main`，`dependencies`，`devDependencies`，`scripts`である．

---
## dependencies & devDependencies

`dependency` とはそのパッケージが依存する別のパッケージであり，パッケージ名とそのversion で構成される．
さらに，`dependencies` には実行に必要なパッケージ，`devDependencies` には開発やテストにのみ必要なパッケージが記録される．この2つの機能的な違いは，あるパッケージ A を `dependency` としてインストールするときにデフォルトでは A の `dependencies` はインストールされるが A の `devDependencies` はインストールされない．

---

次に，コマンドプロンプト上で `npm install --save electron` を実行する．
ここで，`npm` とは**Node.jsのパッケージ管理ツール**を使用する際のコマンドである．
詳細は、『[NPMとpackage.jsonを概念的に理解する](https://qiita.com/righteous/items/e5448cb2e7e11ab7d477)』
また，`--save`オプションを付与すると `package.json` の `dependencies` に依存関係が追記される．`dependencies` には公開する際に必要なパッケージを記録する．一方，`-dev` オプションを付与すると `package.json` の `devDependencies` に依存関係が追記される．この`devDependencies` には開発に必要なパッケージを記録する．

詳細は、『[npm入門](https://qiita.com/maitake9116/items/7825d90c09f3e2f87dea)』を参照．

install した package はカレントディレクトリ上の保存される．そのため，カレントディレクトリ を git で 管理している場合には，package を git で同期しないように `gitignore` に追記する必要がある．

```gitignore
$ カレントディレクトリ/node_modules/
```

---

# Electron サンプル作成

では，実際に `Electron` でアプリを開発していく．

現在，ディレクトリは以下のような構成となっている．
```
---
./
 |
 |-package.json // 環境構築用
```

そこで，新しくカレントディレクトリに `src` ディレクトリを追加する．この `src` とは `source` の略であり，jQuery の github などを見てみると、`src` ディレクトリの内部にプログラムで使用するパッケージが全て入っていることがわかる．